import Alert from "@/components/DocsAlert";
import SupportOptions from "@/components/SupportOptions";

# Authentication

Firezone supports a wide variety of authentication providers, allowing you to
authenticate users against whatever identity provider you're already using. See
below for more in-depth guides for each supported provider:

1. [Email (OTP)](/kb/authenticate/email): Authenticate with a one-time passcode
   sent to a user's email.
1. [Google](/kb/authenticate/google): Authenticate users with either Google
   Workspace or personal Google accounts.
1. [Microsoft Entra ID](/kb/authenticate/entra): Authenticate users with
   Microsoft Entra ID.
1. [Okta](/kb/authenticate/okta): Authenticate users with Okta.
1. [OpenID Connect (OIDC)](/kb/authenticate/oidc): Authenticate users with any
   OpenID Connect provider using a universal OIDC connector.

It's possible to create multiple providers for the Okta and OIDC connectors.
This allows you to authenticate users against multiple providers at the same
time, each with different Policies applied to them using Firezone's flexible
[policy conditions](/kb/deploy/policies#conditional-access-policies).

<Alert color="warning">
  Disabling the email provider can lock you out of your account in the event
  that all other identity providers become unusable. We recommend keeping at
  least one admin enabled for the email provider for account recovery. If you
  become locked out, [contact support](mailto:support@firezone.dev) for
  assistance.
</Alert>

## Multi-factor authentication (MFA)

Firezone intentionally does not support multi-factor authentication (MFA)
directly. Instead, we recommend setting any required MFA steps in your identity
provider so you can apply a consistent MFA strategy for all of your
SSO-connected applications, not just Firezone.

Here are links to MFA setup guides for some popular identity providers:

- [Google Workspace](https://support.google.com/a/answer/184711)
- [Microsoft Entra ID](https://docs.microsoft.com/en-us/azure/active-directory/authentication/howto-mfa-userstates)
- [Okta](https://help.okta.com/en-us/content/topics/security/mfa/mfa-home.htm)

## Authentication context

Each authentication provider in Firezone can be configured to allow
authenticating to the **admin portal only**, **client apps only**, or **both**.
This can be used to enforce different authentication methods for admin versus
client access, allowing you to use a more secure provider for admin portal
access while using a more convenient provider for signing in from a client app
if desired.

To configure the authentication context for an authentication provider:

- Navigate to `Settings -> Authentication` in your Firezone admin portal
- Edit the provider you wish to configure
- Set the desired authentication context
- Save your changes

<Alert color="warning">
  Changing this setting will invalidate all existing sessions created by this
  authentication provider. All users will be required to reauthenticate.
</Alert>

### Session lifetimes

Firezone allows configuring the session lifetime for both **admin portal** and
**client app** sessions. These are configured on a per-authentication-provider
basis and override any session lifetime settings configured in your identity
provider.

To configure the session lifetime for an authentication provider:

- Navigate to `Settings -> Authentication` in your Firezone admin portal
- Edit the provider you wish to configure
- Set the desired session lifetime in seconds for both the portal and client
  sessions
- Save your changes

<Alert color="warning">
  Changing this setting will invalidate all existing sessions created by this
  authentication provider. All users will be required to reauthenticate.
</Alert>

<SupportOptions />
