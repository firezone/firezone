experimental_monorepo_root = true

[monorepo]
config_roots = [
    "kotlin/android",
    "rust",
    "swift/apple",
]

[tasks.lint-setup]
description = "Install linting tools from version-pinned files (managed by Dependabot)"
run = """
pip install -r .github/requirements.txt
pnpm i --frozen-lockfile --dir ./.github
pnpm i --frozen-lockfile --dir ./website
"""

[tasks.lint]
description = "Run pre-commit hooks on all files"
run = "pre-commit run --all-files --config .github/pre-commit-config.yaml"

[tasks.lint-staged]
description = "Run pre-commit hooks on staged files only"
run = "pre-commit run --config .github/pre-commit-config.yaml"
