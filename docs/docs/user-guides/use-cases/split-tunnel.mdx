---
title: Split Tunnel VPN
sidebar_position: 1
description: Configure Firezone to split tunnel traffic destined for certain IP ranges through the WireGuardÂ®-based secure access platform.
---

This guide will describe the steps required to enable split tunneling with
WireGuard using Firezone so only traffic to defined IP ranges will be routed
through the VPN.

## Split Tunnel using Firezone

Firezone sets the `Allowed IPs` field so traffic destined for
specific IPs are encrypted and routed through the gateway.

### Step 1 - Configure AllowedIPs

AllowedIPs can be set globally on the `/settings/default` page or individually
for each device during creation. Changes will only apply to new WireGuard
tunnel configurations generated by Firezone.

![set split tunneling defaults](https://user-images.githubusercontent.com/52545545/154814549-bb686ffe-ea82-4af8-a2a4-5e0b4013dec7.png)

Some examples of values in this field are:

- `0.0.0.0/0, ::/0` - all network traffic will be routed to the VPN server.
- `192.0.2.3/32` - only traffic to a single IP address
will be routed to the VPN server.
- `3.5.140.0/22` - only traffic to IPs in the `3.5.140.1 - 3.5.143.254` range
will be routed to the VPN server.
In this example, the CIDR range for the `ap-northeast-2` AWS region was used.

:::note
When deciding where to route a packet, Firezone chooses the egress
interface corresponding to the most specific route first.
:::

### Step 2 - Regenerate the WireGuard configuration

To update existing user devices with the new split tunnel configuration,
users will need to regenerate the configuration files
and add them to their native WireGuard client.

See [add device](/user-guides/add-devices/) for instructions.
